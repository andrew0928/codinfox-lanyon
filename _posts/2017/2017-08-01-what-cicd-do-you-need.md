---
layout: post
title: "觀點: 你需要什麼樣的 CI / CD ?"
categories:
tags: [""]
published: true
comments: true
redirect_from:
logo: 
---

這篇沒有要分享太多太硬的東西，或是太燒腦的架構文章，單純分享一下最近我協助團隊導入版控，以及 CI/CD 的想法而已。
不過在開始進入正題之前，先讓我發發牢騷 XDD


<!--more-->

# 抱怨

跟幾年前 DevOps 還很遙不可及的年代比起來，現在沒有弄個 DevOps 的流程，感覺起來你的團隊就遜掉了 XD, 這句話真的不誇張! 就拿面試工程師來說就好，我這幾年面試的工程師應該有好幾百個了吧 (有人想來讓我的 counter++ 嗎?), 每個大概都會問我:

1. 你們有用版控嗎? 用哪一套版控系統?
1. 你們有做 CI/CD 嗎? 用哪一套 CI Server?
1. 你們有 Run SCRUM 嗎?
1. 你們....

有趣的是, 求職的人都對這些很有興趣, 但是當我反問這些東西你有哪些經驗, 場面就變得很乾了... 再來，如果在公司裡打算要
推廣這些東西，通常就會莫名其妙地碰到一堆阻力... 有時就開始會聽到一些有趣的 feedback, 有各種奇妙的理由告訴你這樣 Run
會有問題.. XD

撇開流程跟工具不談，我不禁開始想: 這些 process 到底對工程師的意義是啥? 我想了想，有這幾種可能:

## 1. 我是來學習的，我這麼有學習的熱誠，你應該要教我才對啊

先不管到底要不要教，至少有學習的動機是件好事。只是，動機應該是表現在自身的行為才對吧? 真的有興趣的話，自己應該會
找機會嘗試看看才對。以我自己來說，當年為了熟悉版控的機制，我開始把自己工作的東西都擺在 SVN, 強迫自己有機會練習使用。
為了熟悉 Git 的操作，還有版控的流程 Git Flow, 我強迫自己把 BLOG 都搬到 GitHub, 用 GitHub Pages 來取代 WordPress..

我只能說這樣的過程真的很值得，不但學到了技巧，也更清楚該如何應用這些流程來改善團隊的開發方式。也開始讓我體會在這個年代 xxx as code 的重要性。拿這個例子來說，我改用 GitHub 寫 BLOG 的心得可以參考這篇: 



## 2. 我會 XXX + YYY + ZZZ + AAA + BBB 系統...

我聽到這種 "工具控"，我心裡也是三條線 XDDD, 我不是很在意我 "會" 幾種工具? 我比較在意我不管用了哪一套工具，是否能發揮它的潛力，解決我面臨的問題? 後者遠遠比前者重要的多，有了後者為目標，我自然會去學習他，把前者補起來。會哪些工具只是時間問題，拿它來幹嘛才是重點。

在我近 20 年的工作經歷裡, 有十幾年的時間都在做系統開發與導入。對於在公司或是團隊內導入一套系統，我是很慎重地看待這件事的。在我的觀念裡面，導入一套系統花費的成本是很高的，即使系統是免費的也是。要換掉一套既有的系統也是。因此我一貫的原則是: 除非這套系統爛透了，原廠或開發團隊不維護了，有重大需求無法被滿足，或是你已經駕馭它 80% 以上的功能，想要替換更進階更深入的系統... 等等，否則我不大會輕易的替換任何一套系統。因為我一直相信 "找對的人來使用工具"，遠比 "找對的工具來用" 還重要，尤其是這些工具都需要一些經驗才能駕馭它的時候...。




# XXXX

好，前面牢騷發完，其實我這篇主要要寫的在這邊啊，你 (or 你的團隊) 需要什麼樣的 CI / CD 流程?

我舉前面的例子，其實是要表達這些都是大家挑選系統或工具時常會犯的毛病 (尤其是台灣人 XD)。當你第一個考量的是 "工具"，那你已經被牽著鼻子走了.. 主要當然還是看需求而定。我分享一下我經歷的例子。

CI / CD 是開發流程中，Coding 循環中很重要的一環，Code 寫到一個段落，就會透過 CI 做各種驗證，通過就會透過 CD 做各種部署，讓你能用最快的方式提供服務給使用者使用。整體來看，從 CI / CD, 到 DevOps, 甚至是 SCRUM 的 Sprint 等等，核心的機制都圍繞在版本控制啊。

為何版控是核心? 我的看法是這樣:

Code -> branches -> CI -> CD -> Services -> Feedback
             -> sprint -> demo -> qa -> merge
             -> ...

Source Code 是驅動這一切流程的源頭，而 Source Control 則是管理 Source Code 最好的方式。Branches 正好對應到 Source Code 的各種階段 (如 DEV, QA, Production ... etc), 






